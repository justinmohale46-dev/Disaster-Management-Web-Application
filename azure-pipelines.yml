name: GiftOfTheGivers-CI

trigger:
- develop
- main

pool:
  vmImage: 'ubuntu-latest'

steps:
- task: UseDotNet@2
  displayName: 'Install .NET 6'
  inputs:
    packageType: 'sdk'
    version: '6.x'

- script: |
    echo "ðŸ”¨ Building Gift of the Givers Foundation..."
    dotnet build --configuration Release
  displayName: 'Build Application'

- script: |
    echo "ðŸ“¦ Publishing application..."
    dotnet publish --configuration Release --output $(Build.ArtifactStagingDirectory)
  displayName: 'Publish Application'

- task: PublishBuildArtifacts@1
  displayName: 'Publish Build Artifacts'
  inputs:
    pathToPublish: '$(Build.ArtifactStagingDirectory)'
    artifactName: 'GiftOfTheGiversApp'

- script: |
    echo "ðŸŽ‰ PIPELINE SUCCESS! ðŸŽ‰"
    echo "âœ… Gift of the Givers Foundation"
    echo "âœ… ASP.NET Core MVC Application"
    echo "âœ… Built and Published Successfully"
    echo "âœ… All artifacts ready for deployment"
    echo "âœ… CI/CD Pipeline Working Perfectly"
  displayName: 'Pipeline Success'